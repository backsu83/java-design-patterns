# 디자인 패턴

## 1. 디자인 패턴이란?
디자인 패턴이란 **소프트웨어를 설계할 때 특정 맥막에서 자주 발생하는 고질적인 문제들이 또 발생했을 때 재사용할 수 있는 해결책이라고 생각하면 된다.**
디자인 패턴을 사용해 문제를 해결하려는 시도는 소프트웨어 분야가 처음이 아니다. 약 20여년 전 건축가 크리스토퍼 알렉산더가 건축분야에서 시도했었다.
알렉산더는 패턴을 다음과 같이 정의했다.

> "각 패턴은 우리 주변에서 자주 반복해서 발생하는 문제와 그 문제를 해결하는 핵심을 기술해 동일한 일을 두번 다시 하지 않고 해결할 수 있도록 한다."

그렇다면 패턴이란 무엇일까? 

> 패턴은 비슷하거나 동일한 양식 또는 유형들이 반복되어 나타난다는 의미이며, 문제와 해결책도 동일한 유형이나 양식을 통해 쉽게 찾을 수 있다.

이제 디자인 패턴의 구조에 대해 알아보자. 디자인 패턴의 구조는 다음과 같이 3개의 필수적인 요소로 구성된다.

- **콘텍스트** : 문제가 발생하는 여러가지 상황을 기술한다. 즉, 패턴이 적용될 수 있는 상황을 나타낸다. 경우에 따라 패턴이 유용하지 못한 상황을 나타내기도 한다.
- **문제** : 패턴이 적용되어 해결될 필요가 있는 여러 디자인 이슈들을 기술한다. 이때 여러 제약 사항과 영향력도 문제해결을 위해 고려해야 한다.
- **해결** : 문제를 해결하도록 설계를 구성하는 요소들과 그 요소들 사이의 관계, 책임, 협력 관계를 기술한다. 해결은 반드시 구체적인 구현 방법이나 언어에 의존적이지 않으며, 다양한 상화에 적용할 수 있는 일종의 템플릿이다.


## 2. GoF 디자인 패턴
에리히 감마(Erich Gamma), 리차드 헬름(Richard Helm), 랄프 존슨(Ralph Johnson), 존 블리시디스(John Vlissides)는 소프트웨어 개발 영역에서 디자인 패턴을 구체화하고, 체계화한 GoF(Gang of Four)라 불리는 사람들이다.
이 사람들은 디자인 패턴 책에서 디자인 패턴을 23가지로 정리하고 생성, 구조, 행위의 3가지로 분류했다. 아래는 GoF 디자인 패턴을 분류한 것이다.

- **생성패턴** : 객체 생성에 관련된 패턴으로 객체의 생성과 조합을 캡슐화해 특정 객체가 생성되거나 변경되어도 프로그램에 영향을 크게 받지 않도록 유연성을 제공한다.
    - 추상 팩토리(Abstract Factory) : 구체적인 클래스에 의존하지 않고 서로 연관되거나 의존적인 객체들의 조합을 만드는 인터페이스를 제공하는 패턴
    - 빌더(Builder)
    - 팩토리 메서드(Factory Method) : 객체 생성 처리를 서브 클래스로 분리해 처리하도록 캡슐화하는 패턴
    - 프로토 타입(Prototype)
    - 싱글턴(Singleton) : 전역 변수를 사용하지 않고, 객체를 하나만 생성하도록 하며, 생성된 객체를 어디서든 참조할 수 있도록 하는 패턴
    
- **구조패턴** : 클래스나 객체를 조합해 더 큰 구조로 만드는 패턴이다. 예를 들어 서로 다른 인터페이스를 2개 지닌 객체를 묶어 단일 인터페이스를 제공하거나 객체들을 서로 묶어 새로운 기능을 제공하는 패턴이다.
    - 어댑터(Adaptor)
    - 브리지(Bridge)
    - 컴퍼지트(Composite) : 여러 개의 객체들로 구성된 복합 객체와 단일 객체를 클라이언트에서 구별 없이 다루게 해주는 패턴
    - 데커레이터(Decorator) : 객체의 결합을 통해 기능을 동적으로 유연하게 확장할 수 있게 해주는 패턴
    - 퍼사드(facade)
    - 플라이웨이트(Flyweight)
    - 프록시(Proxy)
    
- **행위패턴** : 객체나 클래스 사이의 알고리즘이나 책임 분배에 관련된 패턴이다. 가령 한 객체가 혼자 수행할 수 없는 작업을 여러 개의 객체로 어떻게 분배하는지, 또 그렇게 하면서도 객체 사이의 결합도를 최소화하는 것에 중점을 둔다. 
    - 책임 연쇄(Chain of Responsibility)
    - 커맨드(Command) : 실행될 기능을 캡슐화함으로써 주어진 여러기능을 실행할 수 있는 재사용성이 높은 클래스를 설계하는 패턴
    - 언터프리터(Interpreter)
    - 이터레이터(Iterator)
    - 미디에이터(Mediator)
    - 옵저버(Observer) : 한 객체의 상태 변화에 따라 다른 객체의 상태도 연동되도록 일대다 객체 의존 관계를 구성하는 패턴
    - 스테이트(State) : 객체의 상태에 따라 객체의 행위 내용을 변경해주는 패턴
    - 스트래티지(Strategy) : 행위를 클래스로 캡슐화해 동적으로 행위를 자유롭게 바꿀 수 있게 해주는 패턴
    - 템플릿 메서드(Template Method) : 어떤 작업을 처리하는 일부분을 서브 클래스로 캡슐화해 전체 일을 수행하는 구조는 바꾸지 않으면서 특정 단계에서 수행하는 내역을 바꾸는 패턴
    - 비지터(Visitor)

## 3. UML과 디자인 패턴

UML 2.0에서 디자인 패턴을 표현하는 도구로 컬라보레이션이 있다. 컬라보레이션을 통해 디자인 패턴을 정확하게 표현하려면 구조적인 면과 행위적인 면을 모두 표현할 필요가 있다.

- 구조적인 면 : 어떤 요소들이 주어진 목적을 달성하기 위해 협력하는지는 나타낸다.
- 행위적인 면 : 협력을 위한 요소들의 상호작용을 나타낸다.

#### 3.1 컬라보레이션
혼자서는 모든일을 다 처리할 수 없다. 아주 쉬운 일이라도 대부분은 다른 사람의 도움이 필요하다.
객체지향 시스템에서도 마찬가지로 어떤 주어진 목적을 달성하려고 여러 객체가 각자 자신이 맡은 역할에 따라 일을 수행하며 서로 협력한다.

여기서 주목해야할 점은 객체와 역할 사이의 관계이다. 객체는 역할이 아니므로 한 객체가 여려

#### 3.2 순차 다이어그램

#### 3.3 순차 다이어그램과 클래스 다이어그램의 관계

